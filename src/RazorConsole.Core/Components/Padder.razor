@namespace RazorConsole.Components

@using System.Globalization
@using Microsoft.AspNetCore.Components
@using RazorConsole.Core.Rendering.ComponentMarkup
@using Spectre.Console

<div class="padder"
     data-padding="@PaddingAttribute">
    @ChildContent
</div>

@code {
    /// <summary>
    /// Adds padding (whitespace) around content using Spectre.Console's <see cref="global::Spectre.Console.Padder"/> renderable.
    /// </summary>
    /// <remarks>
    /// <para>
    /// Adds spacing around elements without creating borders. Padding is specified in characters as (left, top, right, bottom).
    /// </para>
    /// <para>
    /// See the <see href="https://spectreconsole.net/widgets/padder">Spectre.Console Padder documentation</see> for more information.
    /// </para>
    /// </remarks>

    private static readonly Padding NoPadding = new(0, 0, 0, 0);

    /// <summary>
    /// Content to which padding will be applied.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Padding to apply as (left, top, right, bottom) in characters. Default is (0, 0, 0, 0). Example: <c>new Padding(2, 1, 2, 1)</c> adds 2 characters horizontally and 1 line vertically.
    /// </summary>
    [Parameter]
    public Padding Padding { get; set; } = NoPadding;

    private string? PaddingAttribute
    {
        get
        {
            if (Padding.Left == 0 && Padding.Top == 0 && Padding.Right == 0 && Padding.Bottom == 0)
            {
                return null;
            }

            return string.Join(",",
                Padding.Left.ToString(CultureInfo.InvariantCulture),
                Padding.Top.ToString(CultureInfo.InvariantCulture),
                Padding.Right.ToString(CultureInfo.InvariantCulture),
                Padding.Bottom.ToString(CultureInfo.InvariantCulture));
        }
    }
}
